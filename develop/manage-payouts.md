---
title: Kifizetések kezelése a Payout Service API-val
description: Ismerje meg, hogyan használhatja Partnerközpont Payout Service API-t a kifizetési adatok eléréséhez
ms.date: 06/23/2021
ms.service: partner-dashboard
ms.subservice: partnercenter-sdk
author: jasongroce
ms.author: sabaja
ms.openlocfilehash: 014a1e6a14b538b7557d58710b9132dd9e37de21
ms.sourcegitcommit: 7e2d2805c4cdd61785b1cdcca99cad10d5683153
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/10/2021
ms.locfileid: "113592436"
---
# <a name="manage-payouts-using-the-payout-service-api"></a><span data-ttu-id="a2878-103">Kifizetések kezelése a Payout Service API-val</span><span class="sxs-lookup"><span data-stu-id="a2878-103">Manage payouts using the Payout Service API</span></span>

<span data-ttu-id="a2878-104">Ez a cikk azt ismerteti, hogyan férhet hozzá a kifizetési adatokhoz a Kifizetési szolgáltatás API-ja segítségével a Partnerközpont felhasználói felületén.</span><span class="sxs-lookup"><span data-stu-id="a2878-104">This article explains how you can access payout data through the Payout Service APIs instead of the Partner Center UI.</span></span> <span data-ttu-id="a2878-105">Ezek az API-k programozott módon biztosítják [](https://partner.microsoft.com/dashboard/payouts/reports/incentiveexport) az Adatok exportálása funkció képességeit a Partnerközpont.</span><span class="sxs-lookup"><span data-stu-id="a2878-105">These APIs provide a programmatic way to provide the capability of the [Export data](https://partner.microsoft.com/dashboard/payouts/reports/incentiveexport) feature in Partner Center.</span></span>

## <a name="available-apis"></a><span data-ttu-id="a2878-106">Elérhető API-k</span><span class="sxs-lookup"><span data-stu-id="a2878-106">Available APIs</span></span>

<span data-ttu-id="a2878-107">Az összes elérhető API-t a [partneri kifizetéseknél láthatja.](/rest/api/partner-center/partner-payouts)</span><span class="sxs-lookup"><span data-stu-id="a2878-107">See all available APIs at [Partner Payouts](/rest/api/partner-center/partner-payouts).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="a2878-108">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="a2878-108">Prerequisites</span></span>

- <span data-ttu-id="a2878-109">[Regisztrálhat egy alkalmazást az AAD-/Microsoft-identitással](/graph/auth-register-app-v2) a Azure Portal, és hozzáadhatja a megfelelő tulajdonosokat és szerepköröket az alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="a2878-109">[Register an application with AAD/Microsoft Identity](/graph/auth-register-app-v2) in the Azure portal, and add appropriate owners and roles to the application.</span></span>
- <span data-ttu-id="a2878-110">A [Visual Studio](https://visualstudio.microsoft.com/downloads/) telepítése.</span><span class="sxs-lookup"><span data-stu-id="a2878-110">Install [Visual Studio](https://visualstudio.microsoft.com/downloads/).</span></span>

## <a name="register-an-application-with-the-microsoft-identity-platform"></a><span data-ttu-id="a2878-111">Alkalmazás regisztrálása a Microsoft Identity Platformon</span><span class="sxs-lookup"><span data-stu-id="a2878-111">Register an application with the Microsoft identity platform</span></span>

<span data-ttu-id="a2878-112">A [Microsoft Identitásplatform](/azure/active-directory/develop/v2-overview) segítségével olyan alkalmazásokat építhet, amelyekbe a felhasználók és az ügyfelek Microsoft-identitásaik vagy közösségi fiókjaik használatával bejelentkeznek, és engedélyezett hozzáférést biztosít saját API-khoz vagy Microsoft API-khoz, például a Microsoft Graph.</span><span class="sxs-lookup"><span data-stu-id="a2878-112">The [Microsoft identity platform](/azure/active-directory/develop/v2-overview) helps you build applications your users and customers can sign in to using their Microsoft identities or social accounts, and provide authorized access to your own APIs or Microsoft APIs like Microsoft Graph.</span></span>

1. <span data-ttu-id="a2878-113">Jelentkezzen be egy munkahelyi vagy iskolai fiókkal vagy a személyes Microsoft-fiókjával az [Azure Portalra](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="a2878-113">Sign in to the [Azure portal](https://portal.azure.com/) using either a work or school account or a personal Microsoft account.</span></span>

   <span data-ttu-id="a2878-114">Ha a fiókja több bérlőhöz is biztosít hozzáférést, válassza ki a fiókját a jobb felső sarokban, és állítsa a portál-munkamenetet a megfelelő Azure AD-bérlőre.</span><span class="sxs-lookup"><span data-stu-id="a2878-114">If your account gives you access to more than one tenant, select your account in the upper right corner and set your portal session to the correct Azure AD tenant.</span></span>

2. <span data-ttu-id="a2878-115">A bal oldali navigációs panelen válassza ki a Azure Active Directory, majd válassza Alkalmazásregisztrációk Új **regisztráció lehetőséget.**</span><span class="sxs-lookup"><span data-stu-id="a2878-115">In the left navigation pane, select the Azure Active Directory service, then **App registrations**, then **New registration**.</span></span> <span data-ttu-id="a2878-116">Megjelenik **az Alkalmazás regisztrálása** lap.</span><span class="sxs-lookup"><span data-stu-id="a2878-116">The **Register an application** page appears.</span></span>

   :::image type="content" source="./images/manage-payouts/new-app-registration.png" alt-text="Képernyőkép az alkalmazás regisztrálása képernyőről a Azure Portal.":::

3. <span data-ttu-id="a2878-118">Adja meg az alkalmazás regisztrációs adatait:</span><span class="sxs-lookup"><span data-stu-id="a2878-118">Enter your application's registration information:</span></span>

   - <span data-ttu-id="a2878-119">Név: Adjon meg egy kifejező alkalmazásnevet, amely megjelenik az alkalmazás felhasználói számára.</span><span class="sxs-lookup"><span data-stu-id="a2878-119">Name: Enter a meaningful application name that will be displayed to users of the app.</span></span>
   - <span data-ttu-id="a2878-120">Támogatott fióktípusok: Válassza ki, hogy az alkalmazás mely fiókokat fogja támogatni.</span><span class="sxs-lookup"><span data-stu-id="a2878-120">Supported account types: Select which accounts your application will support.</span></span>

    | <span data-ttu-id="a2878-121">**Támogatott fióktípusok**</span><span class="sxs-lookup"><span data-stu-id="a2878-121">**Supported account types**</span></span>                             | <span data-ttu-id="a2878-122">**Leírás**</span><span class="sxs-lookup"><span data-stu-id="a2878-122">**Description**</span></span>                                                                                            |
    |---------------------------------------------------------|------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="a2878-123">Csak az ebben a szervezeti címtárban található fiókok</span><span class="sxs-lookup"><span data-stu-id="a2878-123">Only accounts in this organizational directory</span></span>          | <span data-ttu-id="a2878-124">Akkor válassza ezt a lehetőséget, ha üzletági (LOB) alkalmazást készít.</span><span class="sxs-lookup"><span data-stu-id="a2878-124">Select this option if you're building a line-of-business (LOB) application.</span></span> <span data-ttu-id="a2878-125">Ez a lehetőség nem érhető el, ha nem regisztrálja az alkalmazást egy címtárban.</span><span class="sxs-lookup"><span data-stu-id="a2878-125">This option is not available if you're not registering the application in a directory.</span></span> <span data-ttu-id="a2878-126">E lehetőség választása esetén az alkalmazás csak egy Azure AD-bérlős lesz.</span><span class="sxs-lookup"><span data-stu-id="a2878-126">This option maps to Azure AD only single-tenant.</span></span>  <span data-ttu-id="a2878-127">Ez az alapértelmezett beállítás, kivéve, ha címtáron kívül regisztrálja az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="a2878-127">This option is the default unless you're registering the app outside of a directory.</span></span> <span data-ttu-id="a2878-128">Ha címtáron kívül regisztrálja az alkalmazást, a több Azure AD-bérlős alkalmazás és a személyes Microsoft-fiókok használata lesz az alapértelmezés.</span><span class="sxs-lookup"><span data-stu-id="a2878-128">In cases where the app is registered outside of a directory, the default is Azure AD multi-tenant and personal Microsoft accounts.</span></span>             |
    | <span data-ttu-id="a2878-129">Tetszőleges szervezeti címtárban található fiókok</span><span class="sxs-lookup"><span data-stu-id="a2878-129">Accounts in any organizational directory</span></span>                | <span data-ttu-id="a2878-130">Akkor válassza ezt a lehetőséget, ha szeretne minden üzleti és az oktatási ügyfelet megcélozni.</span><span class="sxs-lookup"><span data-stu-id="a2878-130">Select this option if you would like to target all business and educational customers.</span></span>  <span data-ttu-id="a2878-131">E lehetőség választása esetén az alkalmazás csak több Azure AD-bérlős lesz.</span><span class="sxs-lookup"><span data-stu-id="a2878-131">This option maps to an Azure AD only multi-tenant.</span></span> <span data-ttu-id="a2878-132">Ha csak egy Azure AD-bérlősként regisztrálta az alkalmazást, a Hitelesítés panelen átválthatja több Azure AD-bérlősre, illetve visszaállíthatja egy Azure AD-bérlősre.</span><span class="sxs-lookup"><span data-stu-id="a2878-132">If you registered the app as Azure AD only single-tenant, you can update it to be Azure AD multi-tenant and back to single-tenant through the Authentication blade.</span></span>                                                                                                                                                  |
    | <span data-ttu-id="a2878-133">Tetszőleges szervezeti címtárban található fiókok és személyes Microsoft-fiókok</span><span class="sxs-lookup"><span data-stu-id="a2878-133">Accounts in any organizational directory and personal Microsoft accounts</span></span> | <span data-ttu-id="a2878-134">Akkor válassza ezt a lehetőséget, ha a lehető legszélesebb ügyfélkört szeretbé megcélozni.</span><span class="sxs-lookup"><span data-stu-id="a2878-134">Select this option to target the widest set of customers.</span></span> <span data-ttu-id="a2878-135">E lehetőség választása esetén az alkalmazás több Azure AD-bérlős lesz, és személyes Microsoft-fiókok is használhatók lesznek.</span><span class="sxs-lookup"><span data-stu-id="a2878-135">This option maps to Azure AD multi-tenant and personal Microsoft accounts.</span></span>  <span data-ttu-id="a2878-136">Ha azure AD több-bérlős és személyes Microsoft-fiókként regisztrálta az alkalmazást, a felhasználói felületen nem módosíthatja ezt a kijelölést.</span><span class="sxs-lookup"><span data-stu-id="a2878-136">If you registered the app as Azure AD multi-tenant and personal Microsoft accounts, you cannot change this selection in the UI.</span></span> <span data-ttu-id="a2878-137">Ehelyett az alkalmazásjegyzék-szerkesztőt kell használnia a támogatott fióktípusok módosításához.</span><span class="sxs-lookup"><span data-stu-id="a2878-137">Instead, you must use the application manifest editor to change the supported account types.</span></span>                                                                          |

   - <span data-ttu-id="a2878-138">*(nem kötelező)* Átirányítási URI: Válassza ki a létre kívánt alkalmazás típusát: Webes vagy nyilvános ügyfél (mobil & asztali verzió), majd adja meg az alkalmazás átirányítási URI-ját (vagy válasz URL-címét).</span><span class="sxs-lookup"><span data-stu-id="a2878-138">*(optional)* Redirect URI: Select the type of app you're building, Web or Public client (mobile & desktop), and then enter the redirect URI (or reply URL) for your application.</span></span> <span data-ttu-id="a2878-139">(Az átirányítási URL-cím az a hely, ahová a hitelesítési válasz a felhasználó hitelesítése után lesz elküldve.)</span><span class="sxs-lookup"><span data-stu-id="a2878-139">(The redirect URL is where the authentication response will be sent after the user authenticates.)</span></span> 

      <span data-ttu-id="a2878-140">Webalkalmazás esetében adja meg alkalmazás alap URL-címét.</span><span class="sxs-lookup"><span data-stu-id="a2878-140">For web applications, provide the base URL of your app.</span></span> <span data-ttu-id="a2878-141">A `http://localhost:31544` például a helyi gépen futó webalkalmazás URL-címe lehet.</span><span class="sxs-lookup"><span data-stu-id="a2878-141">For example, `http://localhost:31544` might be the URL for a web app running on your local machine.</span></span> <span data-ttu-id="a2878-142">A felhasználók ezzel az URL-címmel jelentkeznek be egy webes ügyfélalkalmazásba.</span><span class="sxs-lookup"><span data-stu-id="a2878-142">Users would use this URL to sign in to a web client application.</span></span>
      <span data-ttu-id="a2878-143">Nyilvános ügyfélalkalmazások esetében adja meg az URI-t, amelyet az Azure AD a jogkivonatválaszok visszaadására használ.</span><span class="sxs-lookup"><span data-stu-id="a2878-143">For public client applications, provide the URI used by Azure AD to return token responses.</span></span> <span data-ttu-id="a2878-144">Adjon meg az alkalmazáshoz tartozó értéket, például: `myapp://auth`.</span><span class="sxs-lookup"><span data-stu-id="a2878-144">Enter a value specific to your application, such as `myapp://auth`.</span></span>

4. <span data-ttu-id="a2878-145">Válassza a **Regisztráció** lehetőséget.</span><span class="sxs-lookup"><span data-stu-id="a2878-145">Select **Register**.</span></span> <span data-ttu-id="a2878-146">Az Azure AD egyedi alkalmazásazonosítót (ügyfél-) rendel hozzá az alkalmazáshoz, és betöltődik az alkalmazás áttekintő oldala.</span><span class="sxs-lookup"><span data-stu-id="a2878-146">Azure AD assigns a unique application (client) ID to your application, and the application's overview page loads.</span></span>

   :::image type="content" source="./images/manage-payouts/register-an-application.png" alt-text="<helyettesítő szöveg>":::

5. <span data-ttu-id="a2878-148">Ha képességeket szeretne hozzáadni az alkalmazáshoz, más konfigurációs lehetőségeket is választhat, például márkajelzést, tanúsítványokat és titkos kulcsokat, API-engedélyeket stb.</span><span class="sxs-lookup"><span data-stu-id="a2878-148">If you want to add capabilities to your application, you can select other configuration options including branding, certificates and secrets, API permissions, and more.</span></span>

## <a name="platform-specific-properties"></a><span data-ttu-id="a2878-149">Platformspecifikus tulajdonságok</span><span class="sxs-lookup"><span data-stu-id="a2878-149">Platform-specific properties</span></span>

<span data-ttu-id="a2878-150">Az alábbi táblázat azokat a tulajdonságokat mutatja be, amelyek a különböző típusú alkalmazások konfigurálásához és másolásához szükségesek.</span><span class="sxs-lookup"><span data-stu-id="a2878-150">The following table shows the properties that you need to configure and copy for different kinds of apps.</span></span> <span data-ttu-id="a2878-151">**A** Hozzárendelt érték azt jelenti, hogy az Azure AD által hozzárendelt értéket kell használnia.</span><span class="sxs-lookup"><span data-stu-id="a2878-151">**Assigned** means that you should use the value assigned by Azure AD.</span></span>

| <span data-ttu-id="a2878-152">Alkalmazástípus</span><span class="sxs-lookup"><span data-stu-id="a2878-152">App type</span></span>              | <span data-ttu-id="a2878-153">Platform</span><span class="sxs-lookup"><span data-stu-id="a2878-153">Platform</span></span> | <span data-ttu-id="a2878-154">Alkalmazás (ügyfél) azonosítója</span><span class="sxs-lookup"><span data-stu-id="a2878-154">Application (client) ID</span></span> | <span data-ttu-id="a2878-155">Titkos ügyfélkulcs</span><span class="sxs-lookup"><span data-stu-id="a2878-155">Client Secret</span></span> | <span data-ttu-id="a2878-156">Átirányítási URI/URL</span><span class="sxs-lookup"><span data-stu-id="a2878-156">Redirect URI/URL</span></span> | <span data-ttu-id="a2878-157">Implicit Flow</span><span class="sxs-lookup"><span data-stu-id="a2878-157">Implicit Flow</span></span>                                                         |
|-----------------------|----------|-------------------------|---------------|------------------|-----------------------------------------------------------------------|
| <span data-ttu-id="a2878-158">Natív/mobil</span><span class="sxs-lookup"><span data-stu-id="a2878-158">Native/Mobile</span></span>         | <span data-ttu-id="a2878-159">Natív</span><span class="sxs-lookup"><span data-stu-id="a2878-159">Native</span></span>   | <span data-ttu-id="a2878-160">Hozzárendelt</span><span class="sxs-lookup"><span data-stu-id="a2878-160">Assigned</span></span>                | <span data-ttu-id="a2878-161">No</span><span class="sxs-lookup"><span data-stu-id="a2878-161">No</span></span>            | <span data-ttu-id="a2878-162">Hozzárendelt</span><span class="sxs-lookup"><span data-stu-id="a2878-162">Assigned</span></span>         | <span data-ttu-id="a2878-163">No</span><span class="sxs-lookup"><span data-stu-id="a2878-163">No</span></span>                                                                    |
| <span data-ttu-id="a2878-164">Webalkalmazás</span><span class="sxs-lookup"><span data-stu-id="a2878-164">Web App</span></span>               | <span data-ttu-id="a2878-165">Webes</span><span class="sxs-lookup"><span data-stu-id="a2878-165">Web</span></span>      | <span data-ttu-id="a2878-166">Hozzárendelt</span><span class="sxs-lookup"><span data-stu-id="a2878-166">Assigned</span></span>                | <span data-ttu-id="a2878-167">Igen</span><span class="sxs-lookup"><span data-stu-id="a2878-167">Yes</span></span>           | <span data-ttu-id="a2878-168">Yes</span><span class="sxs-lookup"><span data-stu-id="a2878-168">Yes</span></span>              | <span data-ttu-id="a2878-169">Választható Open ID Csatlakozás a középső szoftver alapértelmezés szerint hibrid folyamatot használ (Igen)</span><span class="sxs-lookup"><span data-stu-id="a2878-169">Optional Open ID Connect middleware uses hybrid flow by default (Yes)</span></span> |
| <span data-ttu-id="a2878-170">Egyoldalas alkalmazás (SPA)</span><span class="sxs-lookup"><span data-stu-id="a2878-170">Single Page App (SPA)</span></span> | <span data-ttu-id="a2878-171">Webes</span><span class="sxs-lookup"><span data-stu-id="a2878-171">Web</span></span>      | <span data-ttu-id="a2878-172">Hozzárendelt</span><span class="sxs-lookup"><span data-stu-id="a2878-172">Assigned</span></span>                | <span data-ttu-id="a2878-173">Igen</span><span class="sxs-lookup"><span data-stu-id="a2878-173">Yes</span></span>           | <span data-ttu-id="a2878-174">Yes</span><span class="sxs-lookup"><span data-stu-id="a2878-174">Yes</span></span>              | <span data-ttu-id="a2878-175">Igen, az SPA-k Open ID Csatlakozás implicit Flow</span><span class="sxs-lookup"><span data-stu-id="a2878-175">Yes SPAs use Open ID Connect implicit Flow</span></span>                            |
| <span data-ttu-id="a2878-176">Szolgáltatás/démon</span><span class="sxs-lookup"><span data-stu-id="a2878-176">Service/Daemon</span></span>        | <span data-ttu-id="a2878-177">Webes</span><span class="sxs-lookup"><span data-stu-id="a2878-177">Web</span></span>      | <span data-ttu-id="a2878-178">Hozzárendelt</span><span class="sxs-lookup"><span data-stu-id="a2878-178">Assigned</span></span>                | <span data-ttu-id="a2878-179">Igen</span><span class="sxs-lookup"><span data-stu-id="a2878-179">Yes</span></span>           | <span data-ttu-id="a2878-180">Igen</span><span class="sxs-lookup"><span data-stu-id="a2878-180">Yes</span></span>              | <span data-ttu-id="a2878-181">Nem</span><span class="sxs-lookup"><span data-stu-id="a2878-181">No</span></span>                                                                    |

## <a name="create-a-service-principal"></a><span data-ttu-id="a2878-182">Egyszerű szolgáltatás létrehozása</span><span class="sxs-lookup"><span data-stu-id="a2878-182">Create a service principal</span></span>

<span data-ttu-id="a2878-183">Az előfizetés erőforrásainak eléréséhez hozzá kell rendelnie egy szerepkört az alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="a2878-183">To access resources in your subscription, you must assign a role to the application.</span></span> <span data-ttu-id="a2878-184">Ha segítségre van szüksége annak eldöntéséhez, hogy melyik szerepkör kínálja a megfelelő engedélyeket az alkalmazáshoz, tekintse meg az [Azure beépített szerepköreit.](/azure/role-based-access-control/built-in-roles)</span><span class="sxs-lookup"><span data-stu-id="a2878-184">For help deciding which role offers the right permissions for the application, see [Azure built-in roles](/azure/role-based-access-control/built-in-roles).</span></span>

> [!NOTE]
> <span data-ttu-id="a2878-185">A hatókört az előfizetés, az erőforráscsoport vagy az erőforrás szintjén állíthatja be.</span><span class="sxs-lookup"><span data-stu-id="a2878-185">You can set the scope at the level of the subscription, resource group, or resource.</span></span> <span data-ttu-id="a2878-186">Az engedélyek a hatókör alacsonyabb szintjeire öröklődik.</span><span class="sxs-lookup"><span data-stu-id="a2878-186">Permissions are inherited to lower levels of scope.</span></span> <span data-ttu-id="a2878-187">Ha például hozzáad egy alkalmazást egy erőforráscsoport Olvasó szerepkörhöz, az azt jelenti, hogy be tudja olvasni az erőforráscsoportot és az abban található erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="a2878-187">For example, adding an application to the Reader role for a resource group means it can read the resource group and any resources it contains.</span></span>

1. <span data-ttu-id="a2878-188">A Azure Portal válassza ki azt a hatókörszintet, amelyhez hozzá szeretne rendelni egy alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="a2878-188">In the Azure portal, select the level of scope to assign the application to.</span></span> <span data-ttu-id="a2878-189">Ha például egy szerepkört szeretne hozzárendelni az előfizetés hatókörében, keresse meg és válassza az Előfizetések **lehetőséget,** vagy válassza az **Előfizetések** lehetőséget a kezdőlapon.</span><span class="sxs-lookup"><span data-stu-id="a2878-189">For example, to assign a role at the subscription scope, search for and select **Subscriptions**, or select **Subscriptions** on the home page.</span></span>

   :::image type="content" source="./images/manage-payouts/search-for-subscriptions.png" alt-text="Képernyőkép az Előfizetések képernyőkeresésről.":::

2. <span data-ttu-id="a2878-191">Válassza ki azt az előfizetést, amelyhez hozzá szeretne rendelni egy alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="a2878-191">Select the subscription to assign the application to.</span></span>

   :::image type="content" source="./images/manage-payouts/internal-testing-subscription.png" alt-text="Képernyőkép az Előfizetések képernyőről, igazra beállított Belső tesztelés jelzővel.":::

> [!NOTE]
> <span data-ttu-id="a2878-193">Ha nem látja a keresett előfizetést, válassza a globális előfizetések szűrőt, és ellenőrizze, hogy a kívánt előfizetés van-e kiválasztva a portálon.</span><span class="sxs-lookup"><span data-stu-id="a2878-193">If you don't see the subscription you're looking for, select the global subscriptions filter and ensure the subscription you want is selected for the portal.</span></span>

3. <span data-ttu-id="a2878-194">Válassza **a Hozzáférés-vezérlés (IAM),** majd a **Szerepkör-hozzárendelés hozzáadása lehetőséget.**</span><span class="sxs-lookup"><span data-stu-id="a2878-194">Select **Access control (IAM)**, and then select **Add role assignment**.</span></span>

4. <span data-ttu-id="a2878-195">Válassza ki az alkalmazáshoz hozzárendelni kívánt szerepkört.</span><span class="sxs-lookup"><span data-stu-id="a2878-195">Select the role you wish to assign to the application.</span></span> <span data-ttu-id="a2878-196">Ha például engedélyezni szeretné, hogy az alkalmazás újraindítási, indítási és leállítási műveleteket hajtson végre, válassza a Közreműködő szerepkört.</span><span class="sxs-lookup"><span data-stu-id="a2878-196">For example, to allow the application to execute actions like reboot, start and stop instances, select the Contributor role.</span></span> <span data-ttu-id="a2878-197">További információ az elérhető [szerepkörökről:](/azure/role-based-access-control/built-in-roles).</span><span class="sxs-lookup"><span data-stu-id="a2878-197">Read more about [available roles](/azure/role-based-access-control/built-in-roles).</span></span>

   <span data-ttu-id="a2878-198">Alapértelmezés szerint az Azure AD-alkalmazások nem jelennek meg az elérhető lehetőségek között.</span><span class="sxs-lookup"><span data-stu-id="a2878-198">By default, Azure AD applications aren't displayed in the available options.</span></span> <span data-ttu-id="a2878-199">Az alkalmazás megkeresése érdekében keressen rá a névre, és válassza ki az eredmények közül.</span><span class="sxs-lookup"><span data-stu-id="a2878-199">To find your application, search on the name and select it from the results.</span></span> <span data-ttu-id="a2878-200">Az alábbi képernyőképen `example-app` a regisztrált AAD-alkalmazás látható.</span><span class="sxs-lookup"><span data-stu-id="a2878-200">In the below screenshot, `example-app` is the AAD app you registered.</span></span>

   :::image type="content" source="./images/manage-payouts/add-role-assignment.png" alt-text="Képernyőkép a tesztalkalmazás szerepkör-hozzárendelésének hozzáadására vonatkozó felhasználói felületről.":::

5. <span data-ttu-id="a2878-202">Kattintson a **Mentés** gombra.</span><span class="sxs-lookup"><span data-stu-id="a2878-202">Select **Save**.</span></span> <span data-ttu-id="a2878-203">Ezután láthatja az alkalmazást az erre a hatókörre vonatkozó szerepkörrel bíró felhasználók listájában.</span><span class="sxs-lookup"><span data-stu-id="a2878-203">You can then see your application in the list of users with a role for that scope.</span></span>

   <span data-ttu-id="a2878-204">Elkezdheti használni a szolgáltatásnévvel a szkripteket vagy alkalmazásokat.</span><span class="sxs-lookup"><span data-stu-id="a2878-204">You can start using your service principal to run your scripts or apps.</span></span> <span data-ttu-id="a2878-205">A szolgáltatásnév engedélyeinek kezeléséhez tekintse meg a felhasználói jóváhagyás állapotát, az engedélyek áttekintését, a bejelentkezési adatokat és egyéb információkat, valamint a vállalati alkalmazásokat a [Azure Portal.](https://portal.azure.com)</span><span class="sxs-lookup"><span data-stu-id="a2878-205">To manage your service principal's permissions, see user consent status, review permissions, see sign-in information, and more), view your Enterprise applications in the [Azure portal](https://portal.azure.com).</span></span>

## <a name="set-up-api-permissions"></a><span data-ttu-id="a2878-206">API-engedélyek beállítása</span><span class="sxs-lookup"><span data-stu-id="a2878-206">Set up API permissions</span></span>

<span data-ttu-id="a2878-207">Ez a szakasz útmutatást nyújt a szükséges API-engedélyek beállításához.</span><span class="sxs-lookup"><span data-stu-id="a2878-207">This section provides instruction on how to set up the required API permissions.</span></span> <span data-ttu-id="a2878-208">Az API-engedélyek beállításával kapcsolatos Partnerközpont lásd: Partner API [hitelesítés.](/partner/develop/api-authentication)</span><span class="sxs-lookup"><span data-stu-id="a2878-208">For more information about setting up Partner Center API permissions, see [Partner API authentication](/partner/develop/api-authentication).</span></span>

<span data-ttu-id="a2878-209">**Engedély megadása Graph API-hoz**</span><span class="sxs-lookup"><span data-stu-id="a2878-209">**Grant permission to Graph API**</span></span>

1. <span data-ttu-id="a2878-210">Nyissa meg [Alkalmazásregisztrációk](https://go.microsoft.com/fwlink/?linkid=2083908) a Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="a2878-210">Open the [App registrations](https://go.microsoft.com/fwlink/?linkid=2083908) in the Azure portal.</span></span>

2. <span data-ttu-id="a2878-211">Válasszon ki egy alkalmazást, vagy hozzon létre [egy alkalmazást,](/azure/active-directory/develop/quickstart-register-app) ha még nem rendelkezik ilyen alkalmazással.</span><span class="sxs-lookup"><span data-stu-id="a2878-211">Select an application, or [create an app](/azure/active-directory/develop/quickstart-register-app) if you don't already have one.</span></span>

3. <span data-ttu-id="a2878-212">Az alkalmazás Áttekintés lapján, a Kezelés alatt **válassza** az **API-engedélyek** lehetőséget, majd az **Engedély hozzáadása lehetőséget.**</span><span class="sxs-lookup"><span data-stu-id="a2878-212">On the application's Overview page, under **Manage**, select **API Permissions**, then **Add a permission**.</span></span>

4. <span data-ttu-id="a2878-213">Az **elérhető API-k** listájából válassza a Microsoft Graph lehetőséget.</span><span class="sxs-lookup"><span data-stu-id="a2878-213">Select **Microsoft Graph** from the list of available APIs.</span></span>

5. <span data-ttu-id="a2878-214">Válassza **a Delegált engedélyek lehetőséget,** és adja hozzá a szükséges engedélyeket.</span><span class="sxs-lookup"><span data-stu-id="a2878-214">Select **Delegated permissions** and add required permissions.</span></span> <span data-ttu-id="a2878-215">További információ: [Alkalmazás-hozzáférés konfigurálása.](/azure/active-directory/develop/quickstart-configure-app-access-web-apis)</span><span class="sxs-lookup"><span data-stu-id="a2878-215">For more information, see [Configure app access](/azure/active-directory/develop/quickstart-configure-app-access-web-apis).</span></span>

   :::image type="content" source="./images/manage-payouts/graph-request-api-permissions.png" alt-text="Képernyőkép a Microsoft-fiókkal kijelölt Azure Portal képernyőről a Graph képernyőn.":::

<span data-ttu-id="a2878-217">**Hozzájárulás a Partnerközpont API-hoz AAD-alkalmazáson keresztüli API-hozzáféréshez**</span><span class="sxs-lookup"><span data-stu-id="a2878-217">**Consent to API access to Partner Center API via AAD app**</span></span>

6. <span data-ttu-id="a2878-218">Az alkalmazáshoz válassza az **API-engedélyek** lehetőséget, majd a Request API permissions (API-engedélyek kérése) képernyőn válassza **az Add a permission**(Engedély hozzáadása) lehetőséget, majd a my organization uses (A szervezet által használt **API-k) lehetőséget.**</span><span class="sxs-lookup"><span data-stu-id="a2878-218">For your application, select **API permissions**, then, from the Request API permissions screen, select **Add a permission**, then **APIs my organization uses**.</span></span>

7. <span data-ttu-id="a2878-219">Keressen rá a **Microsoft Partner (Microsoft Fejlesztői központ) API (4990cffe-04e8-4e8b-808a-1175604b879f) kifejezésre.**</span><span class="sxs-lookup"><span data-stu-id="a2878-219">Search for **Microsoft Partner (Microsoft Dev Center) API (4990cffe-04e8-4e8b-808a-1175604b879f)**.</span></span>

   :::image type="content" source="./images/manage-payouts/partner-api-request-permissions.png" alt-text="Képernyőkép az API-engedélyek képernyőről, a Microsoft-partner beállítással.":::

8. <span data-ttu-id="a2878-221">Állítsa a Delegált engedélyeket a **következőre: Partnerközpont.**</span><span class="sxs-lookup"><span data-stu-id="a2878-221">Set the Delegated Permissions to **Partner Center**.</span></span>

   :::image type="content" source="./images/manage-payouts/partner-api-request-permissions.png" alt-text="Képernyőkép az API-engedélyek kérése képernyőn Partnerközpont kiválasztott delegált engedélyekről.":::

9. <span data-ttu-id="a2878-223">Adjon **rendszergazdai jóváhagyást** az API-knak.</span><span class="sxs-lookup"><span data-stu-id="a2878-223">Grant **Admin consent** for the APIs.</span></span>

   :::image type="content" source="./images/manage-payouts/api-permissions.png" alt-text="Képernyőkép a Rendszergazdai jóváhagyás váltógombról az API-engedélyek képernyőn.":::

   <span data-ttu-id="a2878-225">Ellenőrizze, hogy a Rendszergazdai jóváhagyás engedélyezve van-e a Rendszergazdai jóváhagyás állapota képernyőn.</span><span class="sxs-lookup"><span data-stu-id="a2878-225">Verify that Admin consent is enabled in the Admin consent status screen.</span></span>

   :::image type="content" source="./images/manage-payouts/admin-consent-verification.png" alt-text="Képernyőkép a rendszergazdai jóváhagyás állapotképernyőről":::

10. <span data-ttu-id="a2878-227">A Hitelesítés **szakaszban** győződjön meg arról, hogy a Nyilvános **ügyfélfolyamatok** engedélyezése beállítás igenre van **állítva.**</span><span class="sxs-lookup"><span data-stu-id="a2878-227">In the **Authentication** section, make sure the **Allow public client flows** option is set to **Yes**.</span></span>

    :::image type="content" source="./images/manage-payouts/allow-public-client-flows.png" alt-text="A Hitelesítés képernyő képernyőképe, a Nyilvános ügyfélfolyamatok engedélyezése beállítás Igen beállítással.":::

## <a name="run-the-sample-code-in-visual-studio"></a><span data-ttu-id="a2878-229">Futtassa a mintakódot a Visual Studio</span><span class="sxs-lookup"><span data-stu-id="a2878-229">Run the sample code in Visual Studio</span></span>

<span data-ttu-id="a2878-230">Mintakód, amely bemutatja, hogyan használható az API a fizetési és tranzakciós előzményekhez a Partnerközpont kifizetési [API-GitHub](https://github.com/microsoft/Partner-Center-Payout-APIs) található.</span><span class="sxs-lookup"><span data-stu-id="a2878-230">Sample code showing how the API can be used for payment and transaction history be found in the [Partner-Center-Payout-APIs](https://github.com/microsoft/Partner-Center-Payout-APIs) GitHub repo.</span></span>

### <a name="sample-code-notes"></a><span data-ttu-id="a2878-231">Mintakódok megjegyzései</span><span class="sxs-lookup"><span data-stu-id="a2878-231">Sample code notes</span></span>

- <span data-ttu-id="a2878-232">Az ügyfél titkos kulcsait és tanúsítványait nem szükséges konfigurálni a Szolgáltatásnév létrehozása [az](/azure/active-directory/develop/howto-create-service-principal-portal) Azure Portal szakaszban tárgyaltak szerint.</span><span class="sxs-lookup"><span data-stu-id="a2878-232">Configuration of Client secrets and Certificates as discussed in the Authentication: Two options section of [How to create a service principal in the Azure portal](/azure/active-directory/develop/howto-create-service-principal-portal) is not required.</span></span>
- <span data-ttu-id="a2878-233">A többtényezős hitelesítéssel (MFA) rendelkező fiókok jelenleg nem támogatottak, és hibát okoznak.</span><span class="sxs-lookup"><span data-stu-id="a2878-233">Accounts with multifactor authentication (MFA) are not currently supported and will cause an error.</span></span>
- <span data-ttu-id="a2878-234">A Kifizetési API csak a felhasználó-jelszó alapú hitelesítő adatokat támogatja.</span><span class="sxs-lookup"><span data-stu-id="a2878-234">Payout API only supports user/password-based credentials.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a2878-235">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="a2878-235">Next steps</span></span>

- [<span data-ttu-id="a2878-236">Az erőforrásokhoz hozzáférő Azure AD-alkalmazás és -szolgáltatásnév létrehozása a portálon</span><span class="sxs-lookup"><span data-stu-id="a2878-236">Use the portal to create an Azure AD application and service principal that can access resources</span></span>](/azure/active-directory/develop/howto-create-service-principal-portal)
- [<span data-ttu-id="a2878-237">Alkalmazás regisztrálása a Microsoft Identity Platformon</span><span class="sxs-lookup"><span data-stu-id="a2878-237">Register an application with the Microsoft identity platform</span></span>](/graph/auth-register-app-v2)
- [<span data-ttu-id="a2878-238">Ügyfélalkalmazás konfigurálása webes API-k elérésére</span><span class="sxs-lookup"><span data-stu-id="a2878-238">Configure a client application to access a web API</span></span>](/azure/active-directory/develop/quickstart-configure-app-access-web-apis)
